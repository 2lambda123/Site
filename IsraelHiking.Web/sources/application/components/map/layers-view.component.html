<aol-layer-tile>
    <aol-source-xyz [url]="getBaseLayerUrl()"
                    [minZoom]="getBaseLayerMinZoom()"
                    [maxZoom]="getBaseLayerMaxZoom()"></aol-source-xyz>
</aol-layer-tile>

<aol-layer-tile *ngFor="let overlay of (overlays | async); let zIdx = index"
                [zIndex]="zIdx + 10"
                [visible]="overlay.visible"
                [opacity]="overlay.opacity">
    <aol-source-xyz [url]="getFullAddress(overlay.address)"
                    [minZoom]="overlay.minZoom"
                    [maxZoom]="overlay.maxZoom"></aol-source-xyz>
</aol-layer-tile>

<div *ngFor="let categoriesType of categoriesTypes">
    <aol-layer-vector [visible]="isVisible(categoriesType)" [zIndex]="1000" #cluster>
        <aol-source-cluster [distance]="distance">
            <aol-source-vector></aol-source-vector>
        </aol-source-cluster>
    </aol-layer-vector>
</div>

<aol-layer-vector [zIndex]="1001" #selectedPoiGeoJsonLayer>
    <aol-source-vector></aol-source-vector>
    <aol-style>
        <aol-style-stroke [width]="2" [color]="'blue'"></aol-style-stroke>
        <aol-style-fill [color]="'rgba(19, 106, 224, 0.2)'"></aol-style-fill>
    </aol-style>
</aol-layer-vector>
<aol-layer-vector [visible]="(selectedPoi$ | async) != null" [zIndex]="1001">
    <aol-source-vector>
        <aol-feature [id]="getSelectedPoiId(selectedPoi$ | async)" #selectedPoiFeature>
            <aol-geometry-point>
                <aol-coordinate [x]="getSelectedPoiX(selectedPoi$ | async)"
                                [y]="getSelectedPoiY(selectedPoi$ | async)"
                                [srid]="'EPSG:4326'">
                </aol-coordinate>
            </aol-geometry-point>
        </aol-feature>
    </aol-source-vector>
</aol-layer-vector>
<cluster-overlay [isOpen]="isClusterOpen" [latlng]="clusterLatlng" [points]="clusterPoints" (closed)="isClusterOpen = false"></cluster-overlay>
