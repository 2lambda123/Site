/**
 * angular-strap
 * @version v2.3.0 - 2015-07-12
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(n,t){"use strict";function i(n,i,r,u,f,e){function h(n,i){return angular.element((i||t).querySelectorAll(n))}function s(n){return o[n]?o[n]:o[n]=i.get(n,{cache:e}).then(function(n){return n.data})}this.compile=function(t){t.template&&/\.html$/.test(t.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),t.templateUrl=t.template,t.template="");var e=t.templateUrl,l=t.template||"",o=t.controller,c=t.controllerAs,i=angular.copy(t.resolve||{}),a=angular.copy(t.locals||{}),v=t.transformTemplate||angular.identity,y=t.bindToController;return angular.forEach(i,function(n,t){i[t]=angular.isString(n)?r.get(n):r.invoke(n)}),angular.extend(i,a),i.$template=e?s(e):n.when(l),t.contentTemplate&&(i.$template=n.all([i.$template,s(t.contentTemplate)]).then(function(n){var i=angular.element(n[0]),r=h('[ng-bind="content"]',i[0]).removeAttr("ng-bind").html(n[1]);return t.templateUrl||r.next().remove(),i[0].outerHTML})),n.all(i).then(function(n){var r=v(n.$template),i,e;return t.html&&(r=r.replace(/ng-bind="/gi,'ng-bind-html="')),i=angular.element("<div>").html(r.trim()).contents(),e=u(i),{locals:n,element:i,link:function(t){var r,u;return n.$scope=t,o&&(r=f(o,n,!0),y&&angular.extend(r.instance,n),u=angular.isObject(r)?r:r(),i.data("$ngControllerController",u),i.children().data("$ngControllerController",u),c&&(t[c]=u)),e.apply(null,arguments)}}})};var o={}}angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]);angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var n=this.defaults={offsetTop:"auto",inlineStyles:!0};this.$get=["$window","debounce","dimensions",function(t,i,r){function e(e,o){function it(n,t,i){var r=g(),u=nt();return r<=w?"top":n!==null&&r+n<=t.top?"middle":a!==null&&t.top+i+p>=u-a?"bottom":"middle"}function g(){return c[0]===t?t.pageYOffset:c[0].scrollTop}function nt(){return c[0]===t?t.document.body.scrollHeight:c[0].scrollHeight}var h={},s=angular.extend({},n,o),c=s.target,tt="affix affix-top affix-bottom",y=!1,p=0,k=0,w=0,a=0,d=null,v=null,l=e.parent(),b;if(s.offsetParent)if(s.offsetParent.match(/^\d+$/))for(b=0;b<s.offsetParent*1-1;b++)l=l.parent();else l=angular.element(s.offsetParent);return h.init=function(){this.$parseOffsets();k=r.offset(e[0]).top+p;y=!e[0].style.width;c.on("scroll",this.checkPosition);c.on("click",this.checkPositionWithEventLoop);u.on("resize",this.$debouncedOnResize);this.checkPosition();this.checkPositionWithEventLoop()},h.destroy=function(){c.off("scroll",this.checkPosition);c.off("click",this.checkPositionWithEventLoop);u.off("resize",this.$debouncedOnResize)},h.checkPositionWithEventLoop=function(){setTimeout(h.checkPosition,1)},h.checkPosition=function(){var u=g(),t=r.offset(e[0]),i=r.height(e[0]),n=it(v,t,i);d!==n&&(d=n,e.removeClass(tt).addClass("affix"+(n!=="middle"?"-"+n:"")),n==="top"?(v=null,y&&e.css("width",""),s.inlineStyles&&(e.css("position",s.offsetParent?"":"relative"),e.css("top",""))):n==="bottom"?(v=s.offsetUnpin?-(s.offsetUnpin*1):t.top-u,y&&e.css("width",""),s.inlineStyles&&(e.css("position",s.offsetParent?"":"relative"),e.css("top",s.offsetParent?"":f[0].offsetHeight-a-i-k+"px"))):(v=null,y&&e.css("width",e[0].offsetWidth+"px"),s.inlineStyles&&(e.css("position","fixed"),e.css("top",p+"px"))))},h.$onResize=function(){h.$parseOffsets();h.checkPosition()},h.$debouncedOnResize=i(h.$onResize,50),h.$parseOffsets=function(){var n=e.css("position");s.inlineStyles&&e.css("position",s.offsetParent?"":"relative");s.offsetTop&&(s.offsetTop==="auto"&&(s.offsetTop="+0"),s.offsetTop.match(/^[-+]\d+$/)?(p=-s.offsetTop*1,w=s.offsetParent?r.offset(l[0]).top+s.offsetTop*1:r.offset(e[0]).top-r.css(e[0],"marginTop",!0)+s.offsetTop*1):w=s.offsetTop*1);s.offsetBottom&&(a=s.offsetParent&&s.offsetBottom.match(/^[-+]\d+$/)?nt()-(r.offset(l[0]).top+r.height(l[0]))+s.offsetBottom*1+1:s.offsetBottom*1);s.inlineStyles&&e.css("position",n)},h.init(),h}var f=angular.element(t.document.body),u=angular.element(t);return e}]}).directive("bsAffix",["$affix","$window",function(n,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(i,r,u,f){var o={scope:i,target:f?f.$element:angular.element(t)},e;angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles"],function(n){if(angular.isDefined(u[n])){var t=u[n];/true/i.test(t)&&(t=!0);/false/i.test(t)&&(t=!1);o[n]=t}});e=n(r,o);i.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(n){this.$element=n}]}});angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var n=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,i){function r(r){var u={},f=angular.extend({},n,r),e;return u=t(f),u.$scope.dismissable=!!f.dismissable,f.type&&(u.$scope.type=f.type),e=u.show,f.duration&&(u.show=function(){e();i(function(){u.hide()},f.duration*1e3)}),u}return r}]}).directive("bsAlert",["$window","$sce","$alert",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},o,f;angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});o=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(n){angular.isDefined(u[n])&&o.test(u[n])&&(e[n]=!1)});n.hasOwnProperty("title")||(n.title="");angular.forEach(["title","content","type"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsAlert&&n.$watch(u.bsAlert,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var n=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function i(i){var r=angular.extend({},n,i);return t(r)}return i}]}).directive("bsAside",["$window","$sce","$aside",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},o,f;angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});o=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(n){angular.isDefined(u[n])&&o.test(u[n])&&(e[n]=!1)});angular.forEach(["title","content"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsAside&&n.$watch(u.bsAside,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var n=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:n}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="checkbox"]');angular.forEach(i,function(n){var i=angular.element(n);i.attr("bs-checkbox","");i.attr("ng-model",t.ngModel+"."+i.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(n,t){var r=n.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var l=r,h=u[0].nodeName==="INPUT",a=h?u.parent():u,o=angular.isDefined(f.trueValue)?f.trueValue:!0,s,c;i.test(f.trueValue)&&(o=n.$eval(f.trueValue));s=angular.isDefined(f.falseValue)?f.falseValue:!1;i.test(f.falseValue)&&(s=n.$eval(f.falseValue));c=typeof o!="boolean"||typeof s!="boolean";c&&(e.$parsers.push(function(n){return n?o:s}),e.$formatters.push(function(n){return angular.equals(n,o)}),n.$watch(f.ngModel,function(){e.$render()}));e.$render=function(){var n=angular.equals(e.$modelValue,o);t(function(){h&&(u[0].checked=n);a.toggleClass(l.activeClass,n)})};u.bind(l.toggleEvent,function(){n.$apply(function(){h||e.$setViewValue(!a.hasClass("active"));c||e.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="radio"]');angular.forEach(i,function(n){angular.element(n).attr("bs-radio","");angular.element(n).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(n,t){var i=n.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var s=i,h=u[0].nodeName==="INPUT",c=h?u.parent():u,o;f.$observe("value",function(t){o=r.test(t)?n.$eval(t):t;e.$render()});e.$render=function(){var n=angular.equals(e.$modelValue,o);t(function(){h&&(u[0].checked=n);c.toggleClass(s.activeClass,n)})};u.bind(s.toggleEvent,function(){n.$apply(function(){e.$setViewValue(o);e.$render()})})}}}]);angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var n=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},t=this.controller=function(t,i,r){function s(n){for(var i=u.$targets.$active,t=0;t<i.length;t++)n<i[t]&&(i[t]=i[t]-1),i[t]===u.$targets.length&&(i[t]=u.$targets.length-1)}function h(n){var t=u.$targets.$active;return t.indexOf(n)===-1?!1:!0}function e(n){var t=u.$targets.$active.indexOf(n);t!==-1&&u.$targets.$active.splice(t,1)}function o(n){u.$options.allowMultiple||u.$targets.$active.splice(0,1);u.$targets.$active.indexOf(n)===-1&&u.$targets.$active.push(n)}var u=this,f;u.$options=angular.copy(n);angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(n){angular.isDefined(r[n])&&(u.$options[n]=r[n])});f=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(n){angular.isDefined(r[n])&&f.test(r[n])&&(u.$options[n]=!1)});u.$toggles=[];u.$targets=[];u.$viewChangeListeners=[];u.$registerToggle=function(n){u.$toggles.push(n)};u.$registerTarget=function(n){u.$targets.push(n)};u.$unregisterToggle=function(n){var t=u.$toggles.indexOf(n);u.$toggles.splice(t,1)};u.$unregisterTarget=function(n){var t=u.$targets.indexOf(n);u.$targets.splice(t,1);u.$options.allowMultiple&&e(n);s(t);u.$viewChangeListeners.forEach(function(n){n()})};u.$targets.$active=u.$options.startCollapsed?[]:[0];u.$setActive=t.$setActive=function(n){angular.isArray(n)?u.$targets.$active=n:u.$options.disallowToggle?o(n):h(n)?e(n):o(n);u.$viewChangeListeners.forEach(function(n){n()})};u.$activeIndexes=function(){return u.$options.allowMultiple?u.$targets.$active:u.$targets.$active.length===1?u.$targets.$active[0]:-1}};this.$get=function(){var i={};return i.defaults=n,i.controller=t,i}}).directive("bsCollapse",["$window","$animate","$collapse",function(n,t,i){var r=i.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",i.controller],link:function(n,t,i,r){var f=r[0],u=r[1];f&&(u.$viewChangeListeners.push(function(){f.$setViewValue(u.$activeIndexes())}),f.$formatters.push(function(n){if(angular.isArray(n))u.$setActive(n);else{var t=u.$activeIndexes();angular.isArray(t)?t.indexOf(n*1)===-1&&u.$setActive(n*1):t!==n*1&&u.$setActive(n*1)}return n}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(n,t,i,r){var f=r[0],u=r[1];t.attr("data-toggle","collapse");u.$registerToggle(t);n.$on("$destroy",function(){u.$unregisterToggle(t)});t.on("click",function(){var r=i.bsCollapseToggle&&i.bsCollapseToggle!=="bs-collapse-toggle"?i.bsCollapseToggle:u.$toggles.indexOf(t);u.$setActive(r*1);n.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(n){return{require:["^?ngModel","^bsCollapse"],link:function(t,i,r,u){function e(){var u=f.$targets.indexOf(i),t=f.$activeIndexes(),r="removeClass";angular.isArray(t)?t.indexOf(u)!==-1&&(r="addClass"):u===t&&(r="addClass");n[r](i,f.$options.activeClass)}var o=u[0],f=u[1];i.addClass("collapse");f.$options.animation&&i.addClass(f.$options.animation);f.$registerTarget(i);t.$on("$destroy",function(){f.$unregisterTarget(i)});f.$viewChangeListeners.push(function(){e()});e()}}}]);angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-Infinity,maxDate:+Infinity,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,i,r,u,f,e,o,s){function l(t,i,r){function nt(n){n.selected=u.$isSelected(n.date)}function p(){t[0].focus()}var u=o(t,angular.extend({},n,r)),g=r.scope,l=u.$options,f=u.$scope,y,v,a,w,b,k,d;return l.startView&&(l.startView-=l.minView),y=e(u),u.$views=y.views,v=y.viewDate,f.$mode=l.startView,f.$iconLeft=l.iconLeft,f.$iconRight=l.iconRight,a=u.$views[f.$mode],f.$select=function(n){u.select(n)},f.$selectPane=function(n){u.$selectPane(n)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())&&(u.$date=n,a.update.call(a,n));u.$build(!0)},u.updateDisabledDates=function(n){l.disabledDateRanges=n;for(var t=0,i=f.rows.length;t<i;t++)angular.forEach(f.rows[t],u.$setDisabledEl)},u.select=function(n,t){angular.isDate(i.$dateValue)||(i.$dateValue=new Date(n));!f.$mode||t?(i.$setViewValue(angular.copy(n)),i.$render(),l.autoclose&&!t&&s(function(){u.hide(!0)})):(angular.extend(v,{year:n.getFullYear(),month:n.getMonth(),date:n.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(n){f.$mode=n;a=u.$views[f.$mode];u.$build()},u.$build=function(n){n===!0&&a.built||(n!==!1||a.built)&&a.build.call(a)},u.$updateSelected=function(){for(var n=0,t=f.rows.length;n<t;n++)angular.forEach(f.rows[n],nt)},u.$isSelected=function(n){return a.isSelected(n)},u.$setDisabledEl=function(n){n.disabled=a.isDisabled(n.date)},u.$selectPane=function(n){var i=a.steps,t=new Date(Date.UTC(v.year+(i.year||0)*n,v.month+(i.month||0)*n,1));angular.extend(v,{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()});u.$build()},u.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),h){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0);a.onKeyDown(n);g.$digest()}},w=u.init,u.init=function(){if(c&&l.useNative){t.prop("type","date");t.css("-webkit-appearance","textfield");return}if(h){t.prop("type","text");t.attr("readonly","true");t.on("click",p)}w()},b=u.destroy,u.destroy=function(){c&&l.useNative&&t.off("click",p);b()},k=u.show,u.show=function(){k();s(function(){if(u.$isShown){u.$element.on(h?"touchstart":"mousedown",u.$onMouseDown);if(l.keyboard)t.on("keydown",u.$onKeyDown)}},0,!1)},d=u.hide,u.hide=function(n){u.$isShown&&(u.$element.off(h?"touchstart":"mousedown",u.$onMouseDown),l.keyboard&&t.off("keydown",u.$onKeyDown),d(n))},u}var a=angular.element(t.document.body),c=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent),h="createTouch"in t.document&&c;return n.lang||(n.lang=f.getDefaultLocale()),l.defaults=n,l}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(n,t,i,r,u,f){var o=f.defaults,e=/(ip(a|o)d|iphone|android)/gi.test(n.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,i,o){function y(n){return!n||!n.length?null:n}function p(n){if(angular.isDate(n)){var t=isNaN(h.$options.minDate)||n.getTime()>=h.$options.minDate,i=isNaN(h.$options.maxDate)||n.getTime()<=h.$options.maxDate,r=t&&i;o.$setValidity("date",r);o.$setValidity("min",t);o.$setValidity("max",i);r&&(o.$dateValue=n)}}function w(){return!o.$dateValue||isNaN(o.$dateValue.getTime())?"":v(o.$dateValue,s.dateFormat)}var s={scope:n},l,h;angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});l=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative"],function(n){angular.isDefined(i[n])&&l.test(i[n])&&(s[n]=!1)});i.bsShow&&n.$watch(i.bsShow,function(n){h&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(datepicker),?/i)),n===!0?h.show():h.hide())});h=f(t,o,s);s=h.$options;e&&s.useNative&&(s.dateFormat="yyyy-MM-dd");var a=s.lang,v=function(n,t){return r.formatDate(n,t,a)},c=u({format:s.dateFormat,lang:a,strict:s.strictFormat});angular.forEach(["minDate","maxDate"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){h.$options[n]=c.getDateForAttribute(n,t);isNaN(h.$options[n])||h.$build(!1);p(o.$dateValue)})});n.$watch(i.ngModel,function(){h.update(o.$dateValue)},!0);angular.isDefined(i.disabledDates)&&n.$watch(i.disabledDates,function(n,t){n=y(n);t=y(t);n&&h.updateDisabledDates(n)});o.$parsers.unshift(function(n){var t,i;if(!n)return o.$setValidity("date",!0),null;if(i=c.parse(n,o.$dateValue),!i||isNaN(i.getTime())){o.$setValidity("date",!1);return}return(p(i),s.dateType==="string")?(t=c.timezoneOffsetAdjust(i,s.timezone,!0),v(t,s.modelDateFormat||s.dateFormat)):(t=c.timezoneOffsetAdjust(o.$dateValue,s.timezone,!0),s.dateType==="number"?t.getTime():s.dateType==="unix"?t.getTime()/1e3:s.dateType==="iso"?t.toISOString():new Date(t))});o.$formatters.push(function(n){var t;return t=angular.isUndefined(n)||n===null?NaN:angular.isDate(n)?n:s.dateType==="string"?c.parse(n,null,s.modelDateFormat):s.dateType==="unix"?new Date(n*1e3):new Date(n),o.$dateValue=c.timezoneOffsetAdjust(t,s.timezone),w()});o.$render=function(){t.val(w())};n.$on("$destroy",function(){h&&h.destroy();s=null;h=null})}}}]).provider("datepickerViews",function(){function n(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i}function t(n,t){return(n%t+t)%t}var i=this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$dateFormatter","$dateParser","$sce",function(i,r,u){return function(f){var s=f.$scope,e=f.$options,c=e.lang,h=function(n,t){return i.formatDate(n,t,c)},l=r({format:e.dateFormat,lang:c,strict:e.strictFormat}),v=i.weekdaysShort(c),p=v.slice(e.startWeek).concat(v.slice(0,e.startWeek)),w=u.trustAsHtml('<th class="dow text-center">'+p.join('<\/th><th class="dow text-center">')+"<\/th>"),a=f.$date||(e.startDate?l.getDateForAttribute("startDate",e.startDate):new Date),o={year:a.getFullYear(),month:a.getMonth(),date:a.getDate()},y=[{format:e.dayFormat,split:7,steps:{month:1},update:function(n,t){!this.built||t||n.getFullYear()!==o.year||n.getMonth()!==o.month?(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):(n.getDate()!==o.date||n.getDate()===1)&&(o.date=f.$date.getDate(),f.$updateSelected())},build:function(){var u=new Date(o.year,o.month,1),v=u.getTimezoneOffset(),r=new Date(+u-t(u.getDay()-e.startWeek,7)*864e5),y=r.getTimezoneOffset(),p=l.timezoneOffsetAdjust(new Date,e.timezone).toDateString(),a,i,c;for(y!==v&&(r=new Date(+r+(y-v)*6e4)),a=[],c=0;c<42;c++)i=l.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+c)),a.push({date:i,isToday:i.toDateString()===p,label:h(i,this.format),selected:f.$date&&this.isSelected(i),muted:i.getMonth()!==o.month,disabled:this.isDisabled(i)});s.title=h(u,e.monthTitleFormat);s.showLabels=!0;s.labels=w;s.rows=n(a,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()&&n.getMonth()===f.$date.getMonth()&&n.getDate()===f.$date.getDate()},isDisabled:function(n){var i=n.getTime(),t;if(i<e.minDate||i>e.maxDate||e.daysOfWeekDisabled.indexOf(n.getDay())!==-1)return!0;if(e.disabledDateRanges)for(t=0;t<e.disabledDateRanges.length;t++)if(i>=e.disabledDateRanges[t].start&&i<=e.disabledDateRanges[t].end)return!0;return!1},onKeyDown:function(n){if(f.$date){var i=f.$date.getTime(),t;n.keyCode===37?t=new Date(i-864e5):n.keyCode===38?t=new Date(i-6048e5):n.keyCode===39?t=new Date(i+864e5):n.keyCode===40&&(t=new Date(i+6048e5));this.isDisabled(t)||f.select(t,!0)}}},{name:"month",format:e.monthFormat,split:4,steps:{year:1},update:function(n){this.built&&n.getFullYear()===o.year?n.getMonth()!==o.month&&(angular.extend(o,{month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected()):(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build())},build:function(){for(var u=new Date(o.year,0,1),r=[],t,i=0;i<12;i++)t=new Date(o.year,i,1),r.push({date:t,label:h(t,this.format),selected:f.$isSelected(t),disabled:this.isDisabled(t)});s.title=h(t,e.yearTitleFormat);s.showLabels=!1;s.rows=n(r,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()&&n.getMonth()===f.$date.getMonth()},isDisabled:function(n){var t=+new Date(n.getFullYear(),n.getMonth()+1,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){if(f.$date){var i=f.$date.getMonth(),t=new Date(f.$date);n.keyCode===37?t.setMonth(i-1):n.keyCode===38?t.setMonth(i-4):n.keyCode===39?t.setMonth(i+1):n.keyCode===40&&t.setMonth(i+4);this.isDisabled(t)||f.select(t,!0)}}},{name:"year",format:e.yearFormat,split:4,steps:{year:12},update:function(n,t){!this.built||t||parseInt(n.getFullYear()/20,10)!==parseInt(o.year/20,10)?(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$build()):n.getFullYear()!==o.year&&(angular.extend(o,{year:f.$date.getFullYear(),month:f.$date.getMonth(),date:f.$date.getDate()}),f.$updateSelected())},build:function(){for(var u=o.year-o.year%(this.split*3),t=[],i,r=0;r<12;r++)i=new Date(u+r,0,1),t.push({date:i,label:h(i,this.format),selected:f.$isSelected(i),disabled:this.isDisabled(i)});s.title=t[0].label+"-"+t[t.length-1].label;s.showLabels=!1;s.rows=n(t,this.split);this.built=!0},isSelected:function(n){return f.$date&&n.getFullYear()===f.$date.getFullYear()},isDisabled:function(n){var t=+new Date(n.getFullYear()+1,0,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){if(f.$date){var i=f.$date.getFullYear(),t=new Date(f.$date);n.keyCode===37?t.setYear(i-1):n.keyCode===38?t.setYear(i-4):n.keyCode===39?t.setYear(i+1):n.keyCode===40&&t.setYear(i+4);this.isDisabled(t)||f.select(t,!0)}}}];return{views:e.minView?Array.prototype.slice.call(y,e.minView):y,viewDate:o}}}]});angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var n=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,i,r,u){function o(t,o){function l(n){if(n.target!==t[0])return n.target!==t[0]&&s.hide()}var s={},h=angular.extend({},n,o),p=s.$scope=h.scope&&h.scope.$new()||i.$new(),c,a,v,y;return s=r(t,h),c=t.parent(),s.$onKeyDown=function(n){var i,t;/(38|40)/.test(n.keyCode)&&(n.preventDefault(),n.stopPropagation(),i=angular.element(s.$element[0].querySelectorAll("li:not(.divider) a")),i.length)&&(angular.forEach(i,function(n,i){e&&e.call(n,":focus")&&(t=i)}),n.keyCode===38&&t>0?t--:n.keyCode===40&&t<i.length-1?t++:angular.isUndefined(t)&&(t=0),i.eq(t)[0].focus())},a=s.show,s.show=function(){a();u(function(){h.keyboard&&s.$element&&s.$element.on("keydown",s.$onKeyDown);f.on("click",l)},0,!1);c.hasClass("dropdown")&&c.addClass("open")},v=s.hide,s.hide=function(){s.$isShown&&(h.keyboard&&s.$element&&s.$element.off("keydown",s.$onKeyDown),f.off("click",l),c.hasClass("dropdown")&&c.removeClass("open"),v())},y=s.destroy,s.destroy=function(){f.off("click",l);y()},s}var f=angular.element(t.document.body),e=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(n,t,i){return{restrict:"EAC",scope:!0,link:function(n,t,r){var f={scope:n},e,u;angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id"],function(n){angular.isDefined(r[n])&&(f[n]=r[n])});e=/^(false|0|)$/i;angular.forEach(["html","container"],function(n){angular.isDefined(r[n])&&e.test(r[n])&&(f[n]=!1)});r.bsDropdown&&n.$watch(r.bsDropdown,function(t){n.content=t},!0);r.bsShow&&n.$watch(r.bsShow,function(n){u&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(dropdown),?/i)),n===!0?u.show():u.hide())});u=i(t,f);n.$on("$destroy",function(){u&&u.destroy();f=null;u=null})}}}]);angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",i);i.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"];angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(n,t){function i(n){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(n).slice(1)}this.getDefaultLocale=function(){return n.id};this.getDatetimeFormat=function(t){return n.DATETIME_FORMATS[t]||t};this.weekdaysShort=function(){return n.DATETIME_FORMATS.SHORTDAY};this.hoursFormat=function(n){return i(n)[0]};this.minutesFormat=function(n){return i(n)[2]};this.secondsFormat=function(n){return i(n)[4]};this.timeSeparator=function(n){return i(n)[1]};this.showSeconds=function(n){return!!i(n)[4]};this.showAM=function(n){return!!i(n)[5]};this.formatDate=function(n,i,r,u){return t(n,i,u)}}]);angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function n(){this.year=1970;this.month=0;this.day=1;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0}function i(){}function r(n){return!isNaN(parseFloat(n))&&isFinite(n)}function u(n,t){for(var r=n.length,u=t.toString().toLowerCase(),i=0;i<r;i++)if(n[i].toLowerCase()===u)return i;return-1}var t,f;n.prototype.setMilliseconds=function(n){this.milliseconds=n};n.prototype.setSeconds=function(n){this.seconds=n};n.prototype.setMinutes=function(n){this.minutes=n};n.prototype.setHours=function(n){this.hours=n};n.prototype.getHours=function(){return this.hours};n.prototype.setDate=function(n){this.day=n};n.prototype.setMonth=function(n){this.month=n};n.prototype.setFullYear=function(n){this.year=n};n.prototype.fromDate=function(n){return this.year=n.getFullYear(),this.month=n.getMonth(),this.day=n.getDate(),this.hours=n.getHours(),this.minutes=n.getMinutes(),this.seconds=n.getSeconds(),this.milliseconds=n.getMilliseconds(),this};n.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};t=n.prototype;f=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(e,o){return function(s){function p(n){for(var i=Object.keys(l),r=[],u=[],e=n,f,t=0;t<i.length;t++)n.split(i[t]).length>1&&(f=e.search(i[t]),n=n.split(i[t]).join(""),l[i[t]]&&(r[f]=l[i[t]]));return angular.forEach(r,function(n){n&&u.push(n)}),u}function b(n){return n.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function w(n){for(var r=Object.keys(v),i=n,t=0;t<r.length;t++)i=i.split(r[t]).join("${"+t+"}");for(t=0;t<r.length;t++)i=i.split("${"+t+"}").join("("+v[r[t]]+")");return n=b(n),new RegExp("^"+i+"$",["i"])}var c=angular.extend({},f,s),h={},v={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:c.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:e.DATETIME_FORMATS.DAY.join("|"),EEE:e.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:c.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:e.DATETIME_FORMATS.MONTH.join("|"),MMM:e.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:c.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},l={sss:t.setMilliseconds,ss:t.setSeconds,s:t.setSeconds,mm:t.setMinutes,m:t.setMinutes,HH:t.setHours,H:t.setHours,hh:t.setHours,h:t.setHours,EEEE:i,EEE:i,dd:t.setDate,d:t.setDate,a:function(n){var t=this.getHours()%12;return this.setHours(n.match(/pm/i)?t+12:t)},MMMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.MONTH,n))},MMM:function(n){return this.setMonth(u(e.DATETIME_FORMATS.SHORTMONTH,n))},MM:function(n){return this.setMonth(1*n-1)},M:function(n){return this.setMonth(1*n-1)},yyyy:t.setFullYear,yy:function(n){return this.setFullYear(2e3+1*n)},y:function(n){return 1*n<=50&&n.length===2?this.setFullYear(2e3+1*n):this.setFullYear(1*n)}},a,y;return h.init=function(){h.$format=e.DATETIME_FORMATS[c.format]||c.format;a=w(h.$format);y=p(h.$format)},h.isValid=function(n){return angular.isDate(n)?!isNaN(n.getTime()):a.test(n)},h.parse=function(t,i,r,u){var s,f,l;r&&(r=e.DATETIME_FORMATS[r]||r);angular.isDate(t)&&(t=o(t,r||h.$format,u));var b=r?w(r):a,v=r?p(r):y,c=b.exec(t);if(!c)return!1;for(s=i&&!isNaN(i.getTime())?(new n).fromDate(i):(new n).fromDate(new Date(1970,0,1,0)),f=0;f<c.length-1;f++)v[f]&&v[f].call(s,c[f+1]);return(l=s.toDate(),parseInt(s.day,10)!==l.getDate())?!1:l},h.getDateForAttribute=function(n,t){var u,i;return t==="today"?(i=new Date,u=new Date(i.getFullYear(),i.getMonth(),i.getDate()+(n==="maxDate"?1:0),0,0,0,n==="minDate"?0:-1)):u=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):r(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?n==="minDate"?-Infinity:+Infinity:new Date(t),u},h.getTimeForAttribute=function(n,t){return t==="now"?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):r(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?n==="minTime"?-Infinity:+Infinity:h.parse(t,new Date(1970,0,1,0))},h.daylightSavingAdjust=function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},h.timezoneOffsetAdjust=function(n,t,i){return n?(t&&t==="UTC"&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+(i?-1:1)*n.getTimezoneOffset())),n):null},h.init(),h}}]}]);angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(n){return function(t,i,r){var u=null;return function(){var f=this,e=arguments,o=r&&!u;return u&&n.cancel(u),u=n(function(){u=null;r||t.apply(f,e)},i,!1),o&&t.apply(f,e),u}}}]).factory("throttle",["$timeout",function(n){return function(t,i,r){var u=null;return r||(r={}),function(){var f=this,e=arguments;u||(r.leading!==!1&&t.apply(f,e),u=n(function(){u=null;r.trailing!==!1&&t.apply(f,e)},i,!1))}}}]);angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var u=angular.element,t={},i=t.nodeName=function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},r;return t.css=function(t,i,r){var u;return u=t.currentStyle?t.currentStyle[i]:n.getComputedStyle?n.getComputedStyle(t)[i]:t.style[i],r===!0?parseFloat(u)||0:u},t.offset=function(t){var i=t.getBoundingClientRect(),r=t.ownerDocument;return{width:i.width||t.offsetWidth,height:i.height||t.offsetHeight,top:i.top+(n.pageYOffset||r.documentElement.scrollTop)-(r.documentElement.clientTop||0),left:i.left+(n.pageXOffset||r.documentElement.scrollLeft)-(r.documentElement.clientLeft||0)}},t.setOffset=function(n,i,r){var e,o,s,h,f,c,a,l=t.css(n,"position"),v=angular.element(n),u={};l==="static"&&(n.style.position="relative");f=t.offset(n);s=t.css(n,"top");c=t.css(n,"left");a=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;a?(e=t.position(n),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);angular.isFunction(i)&&(i=i.call(n,r,f));i.top!==null&&(u.top=i.top-f.top+h);i.left!==null&&(u.left=i.left-f.left+o);"using"in i?i.using.call(v,u):v.css({top:u.top+"px",left:u.left+"px"})},t.position=function(n){var u={top:0,left:0},f,e;return t.css(n,"position")==="fixed"?e=n.getBoundingClientRect():(f=r(n),e=t.offset(n),i(f,"html")||(u=t.offset(f)),u.top+=t.css(f,"borderTopWidth",!0),u.left+=t.css(f,"borderLeftWidth",!0)),{width:n.offsetWidth,height:n.offsetHeight,top:e.top-u.top-t.css(n,"marginTop",!0),left:e.left-u.left-t.css(n,"marginLeft",!0)}},r=function(n){var u=n.ownerDocument,r=n.offsetParent||u;if(i(r,"#document"))return u.documentElement;while(r&&!i(r,"html")&&t.css(r,"position")==="static")r=r.offsetParent;return r||u.documentElement},t.height=function(n,i){var r=n.offsetHeight;return i?r+=t.css(n,"marginTop",!0)+t.css(n,"marginBottom",!0):r-=t.css(n,"paddingTop",!0)+t.css(n,"paddingBottom",!0)+t.css(n,"borderTopWidth",!0)+t.css(n,"borderBottomWidth",!0),r},t.width=function(n,i){var r=n.offsetWidth;return i?r+=t.css(n,"marginLeft",!0)+t.css(n,"marginRight",!0):r-=t.css(n,"paddingLeft",!0)+t.css(n,"paddingRight",!0)+t.css(n,"borderLeftWidth",!0)+t.css(n,"borderRightWidth",!0),r},t}]);angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var n=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,i){function r(r,u){function y(n,t){return n.map(function(n,i){var r={},u,f;return r[o]=n,u=s(t,r),f=h(t,r),{label:u,value:f,index:i}})}var e={},l=angular.extend({},n,u),f,s,o,a,v,h,c;return e.$values=[],e.init=function(){e.$match=f=r.match(l.regexp);s=t(f[2]||f[1]);o=f[4]||f[6];a=f[5];v=t(f[3]||"");h=t(f[2]?f[1]:o);c=t(f[7])},e.valuesFn=function(n,t){var r;try{r=c(n,t)}catch(u){r=[]}return i.when(r).then(function(t){return angular.isArray(t)||(t=[]),e.$values=t.length?y(t,n):[],e.$values})},e.displayValue=function(n){var t={};return t[o]=n,s(t)},e.init(),e}return r}]});angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]);angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var n=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(i,r,u,f,e,o,s,h,c){function p(t){function d(){e.$emit(i.prefixEvent+".show",f)}function g(){e.$emit(i.prefixEvent+".hide",f);l.removeClass(i.prefixClass+"-open");i.animation&&l.removeClass(i.prefixClass+"-with-"+i.animation)}function ft(){if(i.backdrop){o.on("click",b);h.on("click",b);h.on("wheel",it)}}function nt(){i.backdrop&&(o.off("click",b),h.off("click",b),h.off("wheel",it))}function et(){if(i.keyboard)o.on("keyup",f.$onKeyUp)}function tt(){i.keyboard&&o.off("keyup",f.$onKeyUp)}function b(n){n.target===n.currentTarget&&(i.backdrop==="static"?f.focus():f.hide())}function it(n){n.preventDefault()}function rt(){f.$isShown&&o!==null&&(nt(),tt());p&&(p.$destroy(),p=null);o&&(o.remove(),o=f.$element=null)}var f={},i=f.$options=angular.extend({},n,t),ut=f.$promise=u.compile(i),e=f.$scope=i.scope&&i.scope.$new()||r.$new(),k,o,p,h;return i.element||i.container||(i.container="body"),f.$id=i.id||i.element&&i.element.attr("id")||"",v(["title","content"],function(n){i[n]&&(e[n]=c.trustAsHtml(i[n]))}),e.$hide=function(){e.$$postDigest(function(){f.hide()})},e.$show=function(){e.$$postDigest(function(){f.show()})},e.$toggle=function(){e.$$postDigest(function(){f.toggle()})},f.$isShown=e.$isShown=!1,h=angular.element('<div class="'+i.prefixClass+'-backdrop"/>'),h.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":1038}),ut.then(function(n){k=n;f.init()}),f.init=function(){i.show&&e.$$postDigest(function(){f.show()})},f.destroy=function(){rt();h&&(h.remove(),h=null);e.$destroy()},f.show=function(){var n,t,r;f.$isShown||(angular.isElement(i.container)?(n=i.container,t=i.container[0].lastChild?angular.element(i.container[0].lastChild):null):i.container?(n=w(i.container),t=n[0]&&n[0].lastChild?angular.element(n[0].lastChild):null):(n=null,t=i.element),o&&rt(),p=f.$scope.$new(),o=f.$element=k.link(p,function(){}),e.$emit(i.prefixEvent+".show.before",f).defaultPrevented)||(o.css({display:"block"}).addClass(i.placement),i.animation&&(i.backdrop&&h.addClass(i.backdropAnimation),o.addClass(i.animation)),i.backdrop&&s.enter(h,l,null),angular.version.minor<=2?s.enter(o,n,t,d):s.enter(o,n,t).then(d),f.$isShown=e.$isShown=!0,a(e),r=o[0],y(function(){r.focus()}),l.addClass(i.prefixClass+"-open"),i.animation&&l.addClass(i.prefixClass+"-with-"+i.animation),ft(),et())},f.hide=function(){f.$isShown&&(e.$emit(i.prefixEvent+".hide.before",f).defaultPrevented||(angular.version.minor<=2?s.leave(o,g):s.leave(o).then(g),i.backdrop&&s.leave(h),f.$isShown=e.$isShown=!1,a(e),nt(),tt()))},f.toggle=function(){f.$isShown?f.hide():f.show()},f.focus=function(){o[0].focus()},f.$onKeyUp=function(n){n.which===27&&f.$isShown&&(f.hide(),n.stopPropagation())},f}function a(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}function w(n,i){return angular.element((i||t).querySelectorAll(n))}var v=angular.forEach,b=String.prototype.trim,y=i.requestAnimationFrame||i.setTimeout,l=angular.element(i.document.body);return p}]}).directive("bsModal",["$window","$sce","$modal",function(n,t,i){return{restrict:"EAC",scope:!0,link:function(n,r,u){var e={scope:n,element:r,show:!1},o,f;angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","controller","placement","backdrop","keyboard","html","container","animation","id","prefixEvent","prefixClass"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});o=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(n){angular.isDefined(u[n])&&o.test(u[n])&&(e[n]=!1)});angular.forEach(["title","content"],function(i){u[i]&&u.$observe(i,function(r){n[i]=t.trustAsHtml(r)})});u.bsModal&&n.$watch(u.bsModal,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=i(e);r.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f&&f.destroy();e=null;f=null})}}}]);angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var n=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:n}}}).directive("bsNavbar",["$window","$location","$navbar",function(n,t,i){var r=i.defaults;return{restrict:"A",link:function(n,i,u){var f=angular.copy(r);angular.forEach(Object.keys(r),function(n){angular.isDefined(u[n])&&(f[n]=u[n])});n.$watch(function(){return t.path()},function(n){var t=i[0].querySelectorAll("li["+f.routeAttr+"]");angular.forEach(t,function(t){var i=angular.element(t),r=i.attr(f.routeAttr).replace("/","\\/"),u;f.strict&&(r="^"+r+"$");u=new RegExp(r,"i");u.test(n)?i.addClass(f.activeClass):i.removeClass(f.activeClass)})})}}}]);angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var n=this.$$spies={},i=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(r,u,f,e,o,s){function h(n,t){return n[0].nodeName&&n[0].nodeName.toLowerCase()===t.toLowerCase()}function v(u){var p=angular.extend({},i,u);p.element||(p.element=a);var it=h(p.element,"body"),k=it?c:p.element,b=it?"window":p.id;if(n[b])return n[b].$$count++,n[b];var v={},ut,ft,w=v.$trackedElements=[],y=[],d,g,rt,nt,et,tt;return v.init=function(){this.$$count=1;g=o(this.checkPosition,p.debounce);rt=s(this.checkPosition,p.throttle);k.on("click",this.checkPositionWithEventLoop);c.on("resize",g);k.on("scroll",rt);nt=o(this.checkOffsets,p.debounce);ut=f.$on("$viewContentLoaded",nt);ft=f.$on("$includeContentLoaded",nt);nt();b&&(n[b]=v)},v.destroy=function(){(this.$$count--,this.$$count>0)||(k.off("click",this.checkPositionWithEventLoop),c.off("resize",g),k.off("scroll",rt),ut(),ft(),b&&delete n[b])},v.checkPosition=function(){if(y.length){if(tt=(it?r.pageYOffset:k.prop("scrollTop"))||0,et=Math.max(r.innerHeight,l.prop("clientHeight")),tt<y[0].offsetTop&&d!==y[0].target)return v.$activateElement(y[0]);for(var n=y.length;n--;)if(!angular.isUndefined(y[n].offsetTop)&&y[n].offsetTop!==null&&d!==y[n].target&&!(tt<y[n].offsetTop)&&(!y[n+1]||!(tt>y[n+1].offsetTop)))return v.$activateElement(y[n])}},v.checkPositionWithEventLoop=function(){setTimeout(v.checkPosition,1)},v.$activateElement=function(n){if(d){var t=v.$getTrackedElement(d);t&&(t.source.removeClass("active"),h(t.source,"li")&&h(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}d=n.target;n.source.addClass("active");h(n.source,"li")&&h(n.source.parent().parent(),"li")&&n.source.parent().parent().addClass("active")},v.$getTrackedElement=function(n){return w.filter(function(t){return t.target===n})[0]},v.checkOffsets=function(){angular.forEach(w,function(n){var i=t.querySelector(n.target);n.offsetTop=i?e.offset(i).top:null;p.offset&&n.offsetTop!==null&&(n.offsetTop-=p.offset*1)});y=w.filter(function(n){return n.offsetTop!==null}).sort(function(n,t){return n.offsetTop-t.offsetTop});g()},v.trackElement=function(n,t){w.push({target:n,source:t})},v.untrackElement=function(n,t){for(var r,i=w.length;i--;)if(w[i].target===n&&w[i].source===t){r=i;break}w=w.splice(r,1)},v.activate=function(n){w[n].addClass("active")},v.init(),v}var c=angular.element(r),l=angular.element(u.prop("documentElement")),a=angular.element(r.document.body);return v}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(n,t,i,r){return{restrict:"EAC",link:function(n,t,i){var f={scope:n},u;angular.forEach(["offset","target"],function(n){angular.isDefined(i[n])&&(f[n]=i[n])});u=r(f);u.trackElement(f.target,t);n.$on("$destroy",function(){u&&(u.untrackElement(f.target,t),u.destroy());f=null;u=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(n){var t=n[0].querySelectorAll("li > a[href]");angular.forEach(t,function(n){var t=angular.element(n);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]);angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var n=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"><\/span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,i,r,u,f){function o(t,i,r){var s={},h=angular.extend({},n,r),o,c,l;return s=u(t,h),o=s.$scope,o.$matches=[],o.$activeIndex=h.multiple?[]:-1,o.$isMultiple=h.multiple,o.$showAllNoneButtons=h.allNoneButtons&&h.multiple,o.$iconCheckmark=h.iconCheckmark,o.$allText=h.allText,o.$noneText=h.noneText,o.$activate=function(n){o.$$postDigest(function(){s.activate(n)})},o.$select=function(n){o.$$postDigest(function(){s.select(n)})},o.$isVisible=function(){return s.$isVisible()},o.$isActive=function(n){return s.$isActive(n)},o.$selectAll=function(){for(var n=0;n<o.$matches.length;n++)o.$isActive(n)||o.$select(n)},o.$selectNone=function(){for(var n=0;n<o.$matches.length;n++)o.$isActive(n)&&o.$select(n)},s.update=function(n){o.$matches=n;s.$updateActiveIndex()},s.activate=function(n){return h.multiple?(s.$isActive(n)?o.$activeIndex.splice(o.$activeIndex.indexOf(n),1):o.$activeIndex.push(n),h.sort&&o.$activeIndex.sort(function(n,t){return n-t})):o.$activeIndex=n,o.$activeIndex},s.select=function(n){var t=o.$matches[n].value;o.$apply(function(){s.activate(n);h.multiple?i.$setViewValue(o.$activeIndex.map(function(n){return o.$matches[n].value})):(i.$setViewValue(t),s.hide())});o.$emit(h.prefixEvent+".select",t,n,s)},s.$updateActiveIndex=function(){i.$modelValue&&o.$matches.length?o.$activeIndex=h.multiple&&angular.isArray(i.$modelValue)?i.$modelValue.map(function(n){return s.$getIndex(n)}):s.$getIndex(i.$modelValue):o.$activeIndex>=o.$matches.length&&(o.$activeIndex=h.multiple?[]:0)},s.$isVisible=function(){return!h.minLength||!i?o.$matches.length:o.$matches.length&&i.$viewValue.length>=h.minLength},s.$isActive=function(n){return h.multiple?o.$activeIndex.indexOf(n)!==-1:o.$activeIndex===n},s.$getIndex=function(n){var i=o.$matches.length,t=i;if(i){for(t=i;t--;)if(o.$matches[t].value===n)break;if(!(t<0))return t}},s.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),e){var t=angular.element(n.target);t.triggerHandler("click")}},s.$onKeyDown=function(n){if(/(9|13|38|40)/.test(n.keyCode)){if(n.preventDefault(),n.stopPropagation(),h.multiple&&n.keyCode===9)return s.hide();if(!h.multiple&&(n.keyCode===13||n.keyCode===9))return s.select(o.$activeIndex);h.multiple||(n.keyCode===38&&o.$activeIndex>0?o.$activeIndex--:n.keyCode===38&&o.$activeIndex<0?o.$activeIndex=o.$matches.length-1:n.keyCode===40&&o.$activeIndex<o.$matches.length-1?o.$activeIndex++:angular.isUndefined(o.$activeIndex)&&(o.$activeIndex=0),o.$digest())}},c=s.show,s.show=function(){c();h.multiple&&s.$element.addClass("select-multiple");f(function(){s.$element.on(e?"touchstart":"mousedown",s.$onMouseDown);if(h.keyboard)t.on("keydown",s.$onKeyDown)},0,!1)},l=s.hide,s.hide=function(){h.multiple||i.$modelValue||(o.$activeIndex=-1);s.$element.off(e?"touchstart":"mousedown",s.$onMouseDown);h.keyboard&&t.off("keydown",s.$onKeyDown);l(!0)},s}var h=angular.element(t.document.body),s=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent),e="createTouch"in t.document&&s;return o.defaults=n,o}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(n,t,i,r,u){var f=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,e){var o={scope:n,placeholder:f.placeholder},c,h,l;angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent"],function(n){angular.isDefined(i[n])&&(o[n]=i[n])});c=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(n){angular.isDefined(i[n])&&c.test(i[n])&&(o[n]=!1)});h=t.attr("data-multiple");angular.isDefined(h)&&(o.multiple=c.test(h)?!1:h);t[0].nodeName.toLowerCase()==="select"&&(l=t,l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"><\/button>'),l.after(t));var a=u(i.bsOptions),s=r(t,e,o),v=a.$match[7].replace(/\|.+/,"").trim();n.$watchCollection(v,function(){a.valuesFn(n,e).then(function(n){s.update(n);e.$render()})});n.$watch(i.ngModel,function(){s.$updateActiveIndex();e.$render()},!0);e.$render=function(){var n,i;o.multiple&&angular.isArray(e.$modelValue)?(n=e.$modelValue.map(function(n){return i=s.$getIndex(n),angular.isDefined(i)?s.$scope.$matches[i].label:!1}).filter(angular.isDefined),n=n.length>(o.maxLength||f.maxLength)?n.length+" "+(o.maxLengthHtml||f.maxLengthHtml):n.join(", ")):(i=s.$getIndex(e.$modelValue),n=angular.isDefined(i)?s.$scope.$matches[i].label:!1);t.html((n?n:o.placeholder)+(o.caretHtml?o.caretHtml:f.caretHtml))};o.multiple&&(e.$isEmpty=function(n){return!n||n.length===0});n.$on("$destroy",function(){s&&s.destroy();o=null;s=null})}}}]);angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var n=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function i(i,r){var u=angular.extend({},n,r),f=t(i,u);return u.content&&(f.$scope.content=u.content),f}return i}]}).directive("bsPopover",["$window","$sce","$popover",function(n,t,i){var r=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,u,f){var o={scope:n},h,s,e;angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});h=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(n){angular.isDefined(f[n])&&h.test(f[n])&&(o[n]=!1)});s=u.attr("data-target");angular.isDefined(s)&&(o.target=h.test(s)?!1:s);angular.forEach(["title","content"],function(i){f[i]&&f.$observe(i,function(u,f){n[i]=t.trustAsHtml(u);angular.isDefined(f)&&r(function(){e&&e.$applyPlacement()})})});f.bsPopover&&n.$watch(f.bsPopover,function(t,i){angular.isObject(t)?angular.extend(n,t):n.content=t;angular.isDefined(i)&&r(function(){e&&e.$applyPlacement()})},!0);f.bsShow&&n.$watch(f.bsShow,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(popover),?/i)),n===!0?e.show():e.hide())});f.viewport&&n.$watch(f.viewport,function(n){e&&angular.isDefined(n)&&e.setViewport(n)});e=i(u,o);n.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]);angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var n=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,i,r){var u=this;u.$options=angular.copy(n);angular.forEach(["animation","navClass","activeClass"],function(n){angular.isDefined(r[n])&&(u.$options[n]=r[n])});t.$navClass=u.$options.navClass;t.$activeClass=u.$options.activeClass;u.$panes=t.$panes=[];u.$activePaneChangeListeners=u.$viewChangeListeners=[];u.$push=function(n){angular.isUndefined(u.$panes.$active)&&t.$setActive(n.name||0);u.$panes.push(n)};u.$remove=function(n){var i=u.$panes.indexOf(n),r=u.$panes.$active,t;t=angular.isString(r)?u.$panes.map(function(n){return n.name}).indexOf(r):u.$panes.$active;u.$panes.splice(i,1);i<t?t--:i===t&&t===u.$panes.length&&t--;t>=0&&t<u.$panes.length?u.$setActive(u.$panes[t].name||t):u.$setActive()};u.$setActive=t.$setActive=function(n){u.$panes.$active=n;u.$activePaneChangeListeners.forEach(function(n){n()})};u.$isActive=t.$isActive=function(n,t){return u.$panes.$active===n.name||u.$panes.$active===t}};this.$get=function(){var i={};return i.defaults=n,i.controller=t,i}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(n,t,i,r){var u=i.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",i.controller],templateUrl:function(n,t){return t.template||u.template},link:function(n,t,i,u){var e=u[0],f=u[1],o;e&&(f.$activePaneChangeListeners.push(function(){e.$setViewValue(f.$panes.$active)}),e.$formatters.push(function(n){return f.$setActive(n),n}));i.bsActivePane&&(o=r(i.bsActivePane),f.$activePaneChangeListeners.push(function(){o.assign(n,f.$panes.$active)}),n.$watch(i.bsActivePane,function(n){f.$setActive(n)},!0))}}}]).directive("bsPane",["$window","$animate","$sce",function(n,t,i){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(n,r,u,f){function o(){var i=e.$panes.indexOf(n);t[e.$isActive(n,i)?"addClass":"removeClass"](r,e.$options.activeClass)}var s=f[0],e=f[1];r.addClass("tab-pane");u.$observe("title",function(t){n.title=i.trustAsHtml(t)});n.name=u.name;e.$options.animation&&r.addClass(e.$options.animation);u.$observe("disabled",function(t){n.disabled=n.$eval(t)});e.$push(n);n.$on("$destroy",function(){e.$remove(n)});e.$activePaneChangeListeners.push(function(){o()});o()}}}]);angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var n=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(i,r,u,f,e,o,s,h,c,l,a){function k(f,e){function ht(){d.$emit(o.prefixEvent+".show",p)}function at(){if(d.$emit(o.prefixEvent+".hide",p),k===lt){if(ct&&o.trigger==="focus")return f[0].blur();et()}}function bt(){var n=o.trigger.split(" ");angular.forEach(n,function(n){if(n==="click")f.on("click",p.toggle);else if(n!=="manual"){f.on(n==="hover"?"mouseenter":"focus",p.enter);f.on(n==="hover"?"mouseleave":"blur",p.leave);ot==="button"&&n!=="hover"&&f.on(w?"touchstart":"mousedown",p.$onFocusElementMouseDown)}})}function kt(){for(var n,t=o.trigger.split(" "),i=t.length;i--;)n=t[i],n==="click"?f.off("click",p.toggle):n!=="manual"&&(f.off(n==="hover"?"mouseenter":"focus",p.enter),f.off(n==="hover"?"mouseleave":"blur",p.leave),ot==="button"&&n!=="hover"&&f.off(w?"touchstart":"mousedown",p.$onFocusElementMouseDown))}function dt(){if(o.trigger!=="focus")k.on("keyup",p.$onKeyUp);else f.on("keyup",p.$onFocusKeyUp)}function vt(){o.trigger!=="focus"?k.off("keyup",p.$onKeyUp):f.off("keyup",p.$onFocusKeyUp)}function gt(){a(function(){k.on("click",pt);b.on("click",p.hide);ut=!0},0,!1)}function yt(){ut&&(k.off("click",pt),b.off("click",p.hide),ut=!1)}function pt(n){n.stopPropagation()}function ft(n){var h;n=n||o.target||f;var e=n[0],s=e.tagName==="BODY",r=e.getBoundingClientRect(),u={};for(h in r)u[h]=r[h];u.width===null&&(u=angular.extend({},u,{width:r.right-r.left,height:r.bottom-r.top}));var l=s?{top:0,left:0}:c.offset(e),a={scroll:s?t.documentElement.scrollTop||t.body.scrollTop:n.prop("scrollTop")||0},v=s?{width:t.documentElement.clientWidth,height:i.innerHeight}:null;return angular.extend({},u,a,v,l)}function ni(n,t,i,r){var u,f=n.split("-");switch(f[0]){case"right":u={top:t.top+t.height/2-r/2,left:t.left+t.width};break;case"bottom":u={top:t.top+t.height,left:t.left+t.width/2-i/2};break;case"left":u={top:t.top+t.height/2-r/2,left:t.left-i};break;default:u={top:t.top-r,left:t.left+t.width/2-i/2}}if(!f[1])return u;if(f[0]==="top"||f[0]==="bottom")switch(f[1]){case"left":u.left=t.left;break;case"right":u.left=t.left+t.width-i}else if(f[0]==="left"||f[0]==="right")switch(f[1]){case"top":u.top=t.top-r;break;case"bottom":u.top=t.top+t.height}return u}function ti(n,t){var i=k[0],l=i.offsetWidth,f=i.offsetHeight,e=parseInt(c.css(i,"margin-top"),10),o=parseInt(c.css(i,"margin-left"),10),s,u,r;if((isNaN(e)&&(e=0),isNaN(o)&&(o=0),n.top=n.top+e,n.left=n.left+o,c.setOffset(i,angular.extend({using:function(n){k.css({top:Math.round(n.top)+"px",left:Math.round(n.left)+"px",right:""})}},n),0),s=i.offsetWidth,u=i.offsetHeight,t==="top"&&u!==f&&(n.top=n.top+f-u),!/top-left|top-right|bottom-left|bottom-right/.test(t))&&(r=ii(t,n,s,u),r.left?n.left+=r.left:n.top+=r.top,c.setOffset(i,n),/top|right|bottom|left/.test(t))){var h=/top|bottom/.test(t),a=h?r.left*2-l+s:r.top*2-f+u,v=h?"offsetWidth":"offsetHeight";ri(a,i[v],h)}}function ii(n,t,i,r){var f={top:0,left:0},a=o.viewport&&v(o.viewport.selector||o.viewport),e,u,s,h,c,l;return a?(e=o.viewport&&o.viewport.padding||0,u=ft(a),/right|left/.test(n)?(s=t.top-e-u.scroll,h=t.top+e-u.scroll+r,s<u.top?f.top=u.top-s:h>u.top+u.height&&(f.top=u.top+u.height-h)):(c=t.left-e,l=t.left+e+i,c<u.left?f.left=u.left-c:l>u.width&&(f.left=u.left+u.width-l)),f):f}function ri(n,t,i){var r=v(".tooltip-arrow, .arrow",k[0]);r.css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")}function et(){clearTimeout(tt);p.$isShown&&k!==null&&(o.autoClose&&yt(),o.keyboard&&vt());it&&(it.$destroy(),it=null);k&&(k.remove(),k=p.$element=null)}var p={},o=p.$options=angular.extend({},n,e),wt=p.$promise=u.compile(o),d=p.$scope=o.scope&&o.scope.$new()||r.$new(),ot=f[0].nodeName.toLowerCase(),nt,tt,rt,st,k,g,it,ct,lt,ut;return o.delay&&angular.isString(o.delay)&&(nt=o.delay.split(",").map(parseFloat),o.delay=nt.length>1?{show:nt[0],hide:nt[1]}:nt[0]),p.$id=o.id||f.attr("id")||"",o.title&&(d.title=h.trustAsHtml(o.title)),d.$setEnabled=function(n){d.$$postDigest(function(){p.setEnabled(n)})},d.$hide=function(){d.$$postDigest(function(){p.hide()})},d.$show=function(){d.$$postDigest(function(){p.show()})},d.$toggle=function(){d.$$postDigest(function(){p.toggle()})},p.$isShown=d.$isShown=!1,wt.then(function(n){st=n;p.init()}),p.init=function(){o.delay&&angular.isNumber(o.delay)&&(o.delay={show:o.delay,hide:o.delay});o.container==="self"?g=f:angular.isElement(o.container)?g=o.container:o.container&&(g=v(o.container));bt();o.target&&(o.target=angular.isElement(o.target)?o.target:v(o.target));o.show&&d.$$postDigest(function(){o.trigger==="focus"?f[0].focus():p.show()})},p.destroy=function(){kt();et();d.$destroy()},p.enter=function(){if(clearTimeout(tt),rt="in",!o.delay||!o.delay.show)return p.show();tt=setTimeout(function(){rt==="in"&&p.show()},o.delay.show)},p.show=function(){if(o.bsEnabled&&!p.$isShown){d.$emit(o.prefixEvent+".show.before",p);var t,n;o.container?(t=g,n=g[0].lastChild?angular.element(g[0].lastChild):null):(t=null,n=f);k&&et();it=p.$scope.$new();k=p.$element=st.link(it,function(){});k.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"});o.animation&&k.addClass(o.animation);o.type&&k.addClass(o.prefixClass+"-"+o.type);o.customClass&&k.addClass(o.customClass);n?n.after(k):t.prepend(k);p.$isShown=d.$isShown=!0;y(d);p.$applyPlacement();angular.version.minor<=2?s.enter(k,t,n,ht):s.enter(k,t,n).then(ht);y(d);l(function(){k&&k.css({visibility:"visible"})});o.keyboard&&(o.trigger!=="focus"&&p.focus(),dt());o.autoClose&&gt()}},p.leave=function(){if(clearTimeout(tt),rt="out",!o.delay||!o.delay.hide)return p.hide();tt=setTimeout(function(){rt==="out"&&p.hide()},o.delay.hide)},p.hide=function(n){p.$isShown&&(d.$emit(o.prefixEvent+".hide.before",p),ct=n,lt=k,angular.version.minor<=2?s.leave(k,at):s.leave(k).then(at),p.$isShown=d.$isShown=!1,y(d),o.keyboard&&k!==null&&vt(),o.autoClose&&k!==null&&yt())},p.toggle=function(){p.$isShown?p.leave():p.enter()},p.focus=function(){k[0].focus()},p.setEnabled=function(n){o.bsEnabled=n},p.setViewport=function(n){o.viewport=n},p.$applyPlacement=function(){var l;if(k){var t=o.placement,h=/\s?auto?\s?/i,c=h.test(t);c&&(t=t.replace(h,"")||n.placement);k.addClass(o.placement);var r=ft(),e=k.prop("offsetWidth"),s=k.prop("offsetHeight");if(c){var i=t,a=o.container?v(o.container):f.parent(),u=ft(a);i.indexOf("bottom")>=0&&r.bottom+s>u.bottom?t=i.replace("bottom","top"):i.indexOf("top")>=0&&r.top-s<u.top&&(t=i.replace("top","bottom"));(i==="right"||i==="bottom-left"||i==="top-left")&&r.right+e>u.width?t=i==="right"?"left":t.replace("left","right"):(i==="left"||i==="bottom-right"||i==="top-right")&&r.left-e<u.left&&(t=i==="left"?"right":t.replace("right","left"));k.removeClass(i).addClass(t)}l=ni(t,r,e,s);ti(l,t)}},p.$onKeyUp=function(n){n.which===27&&p.$isShown&&(p.hide(),n.stopPropagation())},p.$onFocusKeyUp=function(n){n.which===27&&(f[0].blur(),n.stopPropagation())},p.$onFocusElementMouseDown=function(n){n.preventDefault();n.stopPropagation();p.$isShown?f[0].blur():f[0].focus()},ut=!1,p}function y(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}function v(n,i){return angular.element((i||t).querySelectorAll(n))}var d=String.prototype.trim,w="createTouch"in i.document,b=angular.element(i.document),p={};return k}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(n,t,i,r,u){return{restrict:"EAC",scope:!0,link:function(n,t,f){var o={scope:n},h,s,e;angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});h=/^(false|0|)$/i;angular.forEach(["html","container"],function(n){angular.isDefined(f[n])&&h.test(f[n])&&(o[n]=!1)});s=t.attr("data-target");angular.isDefined(s)&&(o.target=h.test(s)?!1:s);n.hasOwnProperty("title")||(n.title="");f.$observe("title",function(t){if(angular.isDefined(t)||!n.hasOwnProperty("title")){var r=n.title;n.title=i.trustAsHtml(t);angular.isDefined(r)&&u(function(){e&&e.$applyPlacement()})}});f.bsTooltip&&n.$watch(f.bsTooltip,function(t,i){angular.isObject(t)?angular.extend(n,t):n.title=t;angular.isDefined(i)&&u(function(){e&&e.$applyPlacement()})},!0);f.bsShow&&n.$watch(f.bsShow,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(tooltip),?/i)),n===!0?e.show():e.hide())});f.bsEnabled&&n.$watch(f.bsEnabled,function(n){e&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|1|,?(tooltip),?/i)),n===!1?e.setEnabled(!1):e.setEnabled(!0))});f.viewport&&n.$watch(f.viewport,function(n){e&&angular.isDefined(n)&&e.setViewport(n)});e=r(t,o);n.$on("$destroy",function(){e&&e.destroy();o=null;e=null})}}}]);angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-Infinity,maxTime:+Infinity,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,i,r,u,f,e,o){function c(t,i,r){function st(n){var t=6e4*c.minuteStep;return new Date(Math.floor(n.getTime()/t)*t)}function lt(n,i){var u=n+i,r;t[0].createTextRange?(r=t[0].createTextRange(),r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",u),r.select()):t[0].setSelectionRange?t[0].setSelectionRange(n,u):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=n,t[0].selectionEnd=u)}function it(){t[0].focus()}var u=e(t,angular.extend({},n,r)),ot=r.scope,c=u.$options,a=u.$scope,nt=c.lang,v=function(n,t,i){return f.formatDate(n,t,nt,i)},y=0,ht=c.roundDisplay?st(new Date):new Date,b=i.$dateValue||ht,l={hour:b.getHours(),meridian:b.getHours()<12,minute:b.getMinutes(),second:b.getSeconds(),millisecond:b.getMilliseconds()},w=f.getDatetimeFormat(c.timeFormat,nt),k=f.hoursFormat(w),ct=f.timeSeparator(w),d=f.minutesFormat(w),g=f.secondsFormat(w),p=f.showSeconds(w),tt=f.showAM(w),rt,ut,ft,et;return a.$iconUp=c.iconUp,a.$iconDown=c.iconDown,a.$select=function(n,t){u.select(n,t)},a.$moveIndex=function(n,t){u.$moveIndex(n,t)},a.$switchMeridian=function(n){u.switchMeridian(n)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())?(u.$date=n,angular.extend(l,{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds()}),u.$build()):u.$isBuilt||u.$build()},u.select=function(n,t,r){(!i.$dateValue||isNaN(i.$dateValue.getTime()))&&(i.$dateValue=new Date(1970,0,1));angular.isDate(n)||(n=new Date(n));t===0?i.$dateValue.setHours(n.getHours()):t===1?i.$dateValue.setMinutes(n.getMinutes()):t===2&&i.$dateValue.setSeconds(n.getSeconds());i.$setViewValue(angular.copy(i.$dateValue));i.$render();c.autoclose&&!r&&o(function(){u.hide(!0)})},u.switchMeridian=function(n){if(i.$dateValue&&!isNaN(i.$dateValue.getTime())){var t=(n||i.$dateValue).getHours();i.$dateValue.setHours(t<12?t+12:t-12);i.$setViewValue(angular.copy(i.$dateValue));i.$render()}},u.$build=function(){for(var f=a.midIndex=parseInt(c.length/2,10),e=[],t,o,i,h,r,s,n=0;n<c.length;n++)t=new Date(1970,0,1,l.hour-(f-n)*c.hourStep),e.push({date:t,label:v(t,k),selected:u.$date&&u.$isSelected(t,0),disabled:u.$isDisabled(t,0)});for(o=[],n=0;n<c.length;n++)i=new Date(1970,0,1,0,l.minute-(f-n)*c.minuteStep),o.push({date:i,label:v(i,d),selected:u.$date&&u.$isSelected(i,1),disabled:u.$isDisabled(i,1)});for(h=[],n=0;n<c.length;n++)r=new Date(1970,0,1,0,0,l.second-(f-n)*c.secondStep),h.push({date:r,label:v(r,g),selected:u.$date&&u.$isSelected(r,2),disabled:u.$isDisabled(r,2)});for(s=[],n=0;n<c.length;n++)p?s.push([e[n],o[n],h[n]]):s.push([e[n],o[n]]);a.rows=s;a.showSeconds=p;a.showAM=tt;a.isAM=(u.$date||e[f].date).getHours()<12;a.timeSeparator=ct;u.$isBuilt=!0},u.$isSelected=function(n,t){if(u.$date){if(t===0)return n.getHours()===u.$date.getHours();if(t===1)return n.getMinutes()===u.$date.getMinutes();if(t===2)return n.getSeconds()===u.$date.getSeconds()}else return!1},u.$isDisabled=function(n,t){var i;return t===0?i=n.getTime()+l.minute*6e4+l.second*1e3:t===1?i=n.getTime()+l.hour*36e5+l.second*1e3:t===2&&(i=n.getTime()+l.hour*36e5+l.minute*6e4),i<c.minTime*1||i>c.maxTime*1},a.$arrowAction=function(n,t){c.arrowBehavior==="picker"?u.$setTimeByStep(n,t):u.$moveIndex(n,t)},u.$setTimeByStep=function(n,t){var i=new Date(u.$date),r=i.getHours(),o=v(i,k).length,f=i.getMinutes(),s=v(i,d).length,e=i.getSeconds(),h=v(i,g).length;t===0?i.setHours(r-parseInt(c.hourStep,10)*n):t===1?i.setMinutes(f-parseInt(c.minuteStep,10)*n):t===2&&i.setSeconds(e-parseInt(c.secondStep,10)*n);u.select(i,t,!0)},u.$moveIndex=function(n,t){var i;t===0?(i=new Date(1970,0,1,l.hour+n*c.length,l.minute,l.second),angular.extend(l,{hour:i.getHours()})):t===1?(i=new Date(1970,0,1,l.hour,l.minute+n*c.length*c.minuteStep,l.second),angular.extend(l,{minute:i.getMinutes()})):t===2&&(i=new Date(1970,0,1,l.hour,l.minute,l.second+n*c.length*c.secondStep),angular.extend(l,{second:i.getSeconds()}));u.$build()},u.$onMouseDown=function(n){if(n.target.nodeName.toLowerCase()!=="input"&&n.preventDefault(),n.stopPropagation(),s){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){var i,e,a,w;if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return u.hide(!0);var t=new Date(u.$date),b=t.getHours(),r=v(t,k).length,nt=t.getMinutes(),o=v(t,d).length,it=t.getSeconds(),s=v(t,g).length,f=1,h=/(37|39)/.test(n.keyCode),l=2+p*1+tt*1;h&&(n.keyCode===37?y=y<1?l-1:y-1:n.keyCode===39&&(y=y<l-1?y+1:0));i=[0,r];e=0;n.keyCode===38&&(e=-1);n.keyCode===40&&(e=1);a=y===2&&p;w=y===2&&!p||y===3&&p;y===0?(t.setHours(b+e*parseInt(c.hourStep,10)),r=v(t,k).length,i=[0,r]):y===1?(t.setMinutes(nt+e*parseInt(c.minuteStep,10)),o=v(t,d).length,i=[r+f,o]):a?(t.setSeconds(it+e*parseInt(c.secondStep,10)),s=v(t,g).length,i=[r+f+o+f,s]):w&&(h||u.switchMeridian(),i=[r+f+o+f+(s+f)*p,2]);u.select(t,y,!0);lt(i[0],i[1]);ot.$digest()}},rt=u.init,u.init=function(){if(h&&c.useNative){t.prop("type","time");t.css("-webkit-appearance","textfield");return}if(s){t.prop("type","text");t.attr("readonly","true");t.on("click",it)}rt()},ut=u.destroy,u.destroy=function(){h&&c.useNative&&t.off("click",it);ut()},ft=u.show,u.show=function(){ft();o(function(){u.$element&&u.$element.on(s?"touchstart":"mousedown",u.$onMouseDown);c.keyboard&&t&&t.on("keydown",u.$onKeyDown)},0,!1)},et=u.hide,u.hide=function(n){u.$isShown&&(u.$element&&u.$element.off(s?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&t&&t.off("keydown",u.$onKeyDown),et(n))},u}var l=angular.element(t.document.body),h=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent),s="createTouch"in t.document&&h;return n.lang||(n.lang=f.getDefaultLocale()),c.defaults=n,c}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(n,t,i,r,u,f){var e=f.defaults,o=/(ip(a|o)d|iphone|android)/gi.test(n.navigator.userAgent),s=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,s){function p(n){if(angular.isDate(n)){var t=isNaN(h.minTime)||new Date(n.getTime()).setFullYear(1970,0,1)>=h.minTime,i=isNaN(h.maxTime)||new Date(n.getTime()).setFullYear(1970,0,1)<=h.maxTime,r=t&&i;(s.$setValidity("date",r),s.$setValidity("min",t),s.$setValidity("max",i),r)&&(s.$dateValue=n)}}function w(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?"":y(s.$dateValue,h.timeFormat)}var h={scope:n},a,c;angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent"],function(n){angular.isDefined(i[n])&&(h[n]=i[n])});a=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(n){angular.isDefined(i[n])&&a.test(i[n])&&(h[n]=!1)});i.bsShow&&n.$watch(i.bsShow,function(n){c&&angular.isDefined(n)&&(angular.isString(n)&&(n=!!n.match(/true|,?(timepicker),?/i)),n===!0?c.show():c.hide())});o&&(h.useNative||e.useNative)&&(h.timeFormat="HH:mm");c=f(t,s,h);h=c.$options;var v=h.lang,y=function(n,t,i){return r.formatDate(n,t,v,i)},l=u({format:h.timeFormat,lang:v});angular.forEach(["minTime","maxTime"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){c.$options[n]=l.getTimeForAttribute(n,t);isNaN(c.$options[n])||c.$build();p(s.$dateValue)})});n.$watch(i.ngModel,function(){c.update(s.$dateValue)},!0);s.$parsers.unshift(function(n){var t,i;if(!n)return s.$setValidity("date",!0),null;if(i=angular.isDate(n)?n:l.parse(n,s.$dateValue),!i||isNaN(i.getTime())){s.$setValidity("date",!1);return}return(p(i),h.timeType==="string")?(t=l.timezoneOffsetAdjust(i,h.timezone,!0),y(t,h.modelTimeFormat||h.timeFormat)):(t=l.timezoneOffsetAdjust(s.$dateValue,h.timezone,!0),h.timeType==="number"?t.getTime():h.timeType==="unix"?t.getTime()/1e3:h.timeType==="iso"?t.toISOString():new Date(t))});s.$formatters.push(function(n){var t;return t=angular.isUndefined(n)||n===null?NaN:angular.isDate(n)?n:h.timeType==="string"?l.parse(n,null,h.modelTimeFormat):h.timeType==="unix"?new Date(n*1e3):new Date(n),s.$dateValue=l.timezoneOffsetAdjust(t,h.timezone),w()});s.$render=function(){t.val(w())};n.$on("$destroy",function(){c&&c.destroy();h=null;c=null})}}}]);angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var n=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(t,i,r,u,f){function e(t,i,e){var h={},c=angular.extend({},n,e),l,s,a,v;return h=r(t,c),l=e.scope,s=h.$scope,s.$resetMatches=function(){s.$matches=[];s.$activeIndex=c.autoSelect?0:-1},s.$resetMatches(),s.$activate=function(n){s.$$postDigest(function(){h.activate(n)})},s.$select=function(n){s.$$postDigest(function(){h.select(n)})},s.$isVisible=function(){return h.$isVisible()},h.update=function(n){s.$matches=n;s.$activeIndex>=n.length&&(s.$activeIndex=c.autoSelect?0:-1);o(s);u(h.$applyPlacement)},h.activate=function(n){s.$activeIndex=n},h.select=function(n){if(n!==-1){var t=s.$matches[n].value;i.$setViewValue(t);i.$render();s.$resetMatches();l&&l.$digest();s.$emit(c.prefixEvent+".select",t,n,h)}},h.$isVisible=function(){return!c.minLength||!i?!!s.$matches.length:s.$matches.length&&angular.isString(i.$viewValue)&&i.$viewValue.length>=c.minLength},h.$getIndex=function(n){var i=s.$matches.length,t=i;if(i){for(t=i;t--;)if(s.$matches[t].value===n)break;if(!(t<0))return t}},h.$onMouseDown=function(n){n.preventDefault();n.stopPropagation()},h.$onKeyDown=function(n){/(38|40|13)/.test(n.keyCode)&&(!h.$isVisible()||n.keyCode===13&&s.$activeIndex===-1||(n.preventDefault(),n.stopPropagation()),n.keyCode===13&&s.$matches.length?h.select(s.$activeIndex):n.keyCode===38&&s.$activeIndex>0?s.$activeIndex--:n.keyCode===40&&s.$activeIndex<s.$matches.length-1?s.$activeIndex++:angular.isUndefined(s.$activeIndex)&&(s.$activeIndex=0),s.$digest())},a=h.show,h.show=function(){a();f(function(){h.$element&&h.$element.on("mousedown",h.$onMouseDown);c.keyboard&&t&&t.on("keydown",h.$onKeyDown)},0,!1)},v=h.hide,h.hide=function(){h.$element&&h.$element.off("mousedown",h.$onMouseDown);c.keyboard&&t&&t.off("keydown",h.$onKeyDown);c.autoSelect||h.activate(-1);v()},h}function o(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}var s=angular.element(t.document.body);return e.defaults=n,e}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(n,t,i,r,u){var f=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,e){var o={scope:n},a,h,s,p;angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(n){angular.isDefined(i[n])&&(o[n]=i[n])});a=/^(false|0|)$/i;angular.forEach(["html","container","trimValue"],function(n){angular.isDefined(i[n])&&a.test(i[n])&&(o[n]=!1)});t.attr("autocomplete","false");var v=o.filter||f.filter,c=o.limit||f.limit,y=o.comparator||f.comparator,l=i.bsOptions;v&&(l+=" | "+v+":$viewValue");y&&(l+=":"+y);c&&(l+=" | limitTo:"+c);h=u(l);s=r(t,e,o);o.watchOptions&&(p=h.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim(),n.$watchCollection(p,function(){h.valuesFn(n,e).then(function(n){s.update(n);e.$render()})}));n.$watch(i.ngModel,function(t){n.$modelValue=t;h.valuesFn(n,e).then(function(n){if(o.selectMode&&!n.length&&t.length>0){e.$setViewValue(e.$viewValue.substring(0,e.$viewValue.length-1));return}n.length>c&&(n=n.slice(0,c));var i=s.$isVisible();(i&&s.update(n),n.length!==1||n[0].value!==t)&&(i||s.update(n),e.$render())})});e.$formatters.push(function(n){var t=h.displayValue(n);return t?t:n&&typeof n!="object"?n:""});e.$render=function(){var i,n,r;if(e.$isEmpty(e.$viewValue))return t.val("");i=s.$getIndex(e.$modelValue);n=angular.isDefined(i)?s.$scope.$matches[i].label:e.$viewValue;n=angular.isObject(n)?h.displayValue(n):n;r=n?n.toString().replace(/<(?:.|\n)*?>/gm,""):"";t.val(o.trimValue===!1?r:r.trim())};n.$on("$destroy",function(){s&&s.destroy();o=null;s=null})}}}])})(window,document);
//# sourceMappingURL=angular-strap.min.js.map
